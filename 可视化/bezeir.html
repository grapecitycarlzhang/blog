<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>bezeir by 李可</title>

</head>

<body>
    <canvas id="canvas" width="800" height="600"></canvas>
    <script>
        var controlPoints = [{ x: 100, y: 500 }, { x: 150, y: 400 }, { x: 600, y: 300 }, { x: 400, y: 150 }]
        function nbezeirCurve(points) {
            for (let point of points) {

            }
        }

        //曲线上的一个点,分别求出x，和y
        //points确定系数
        //t是自变量，这里获取一个点的时候，需要t固定，画线的时候再赋值[0,1],分100份的话，每次t差距0.01，循环t
        //公式中需要组合
        function getOnePointXY(points, t) {
            let point = {
                x: -1,
                y: -1
            }
            let x = Sigmar('x', points, t)
            let y = Sigmar('y', points, t)
            return point
        }
        //x或者y方向上的坐标，bezier曲线求和
        function Sigmar(direction, points, t) {
            let coordinateVal
            let n = points.length
            for (let [i, point] of points.entries()) {
                point.x * C(n)
            }
            for (let i in points) {
                point.x * C(n)
            }
        }
        //组合
        function C(n, i) {
            return f(n) / f(i) / f(n - i)
        }
        //阶乘 factorial 
        function f(n) {
            if (n < 0) {
                return -1
            } else if (n === 0 || n === 1) {
                return 1
            } else {
                return (n * f(n - 1))
            }
        }
    </script>
</body>

</html>