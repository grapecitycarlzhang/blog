<html>
<head>
	<meta charset="UTF-8">
	<title>Document</title>

	
	<style>
	body{
		margin:0px;
	}
		div{
			width: 100px;
			height: 100px;
			padding: 100px;
			border: 20px solid green;
		}
		.first{
			position: relative;
			background: red;
			border: 50px solid green;
		}
		.second{
			background: blue;
			border: 30px solid green;
		}
		.third{
			background: yellow;
			position: fixed;
			left: 350px;
			top:300px;
		}
	</style>
</head>
<body>
	<div class="first">
		<div class="second">
			<div class="third">
				
			</div>
		</div>
	</div>
	<script type="text/javascript">
		function getOffset(curEle) {
                var totalLeft = null, totalTop = null, par = curEle.offsetParent;
                totalLeft += curEle.offsetLeft;
                totalTop += curEle.offsetTop;
                while (par) {
                    if (navigator.userAgent.indexOf("MSIE 8.0") === -1) {
                        totalLeft += par.clientLeft;
                        totalTop += par.clientTop;
                    }
                    totalLeft += par.offsetLeft;
                    totalTop += par.offsetTop;
                    par = par.offsetParent;
                }
                return {left: totalLeft, top: totalTop};
            }

            function getOffset2(curEle) {
                var totalLeft = null, totalTop = null, par = curEle.offsetParent;
                totalLeft += curEle.offsetLeft;
                totalTop += curEle.offsetTop;
                while (par) {
                    if (navigator.userAgent.indexOf("MSIE 8.0") === -1) {
                        totalLeft += par.clientLeft;
                        totalTop += par.clientTop;
                    }
                    totalLeft += par.offsetLeft;
                    totalTop += par.offsetTop;
                    par = par.offsetParent;
                }
                return {left: totalLeft, top: totalTop};
            }


            console.log(getOffset(document.querySelector('.third')))
            console.log(getOffset(document.querySelector('.second')))
            
	</script>
	
	
</body>
</html>