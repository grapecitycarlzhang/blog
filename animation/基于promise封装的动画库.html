<!DOCTYPE html>
<html>

<head>
    <style>
        #block {
            position: absolute;
            left: 200px;
            top: 200px;
            width: 20px;
            height: 20px;
            background: #0c8;
            line-height: 80px;
            text-align: center;
            border-radius: 50%;
        }
    </style>
</head>

<body>
    <button type="button" id='btn'>暂停</button>
    <div id='block'></div>

    <script>
        class Animator {
            constructor(fn,duration=500) {
                this.duration = duration;
                this.pauseState = false;
                this.proport = 0;
                this.fn = fn;
            }

            go(p) {
                var start = Date.now();
                return new Promise((resolve, reject) => {
                    let frameFn = () => {
                        var proport = p ? p : (Date.now() - start) / this.duration;
                        if (!this.pauseState) {
                            if (proport < 1) {
                                this.fn(proport);
                                let innerFrameId =requestAnimationFrame(frameFn);
                            } else {
                                this.fn(1);
                                cancelAnimationFrame(outerFrameId)
                                resolve('done');
                            }
                        } else {
                            cancelAnimationFrame(frameId)
                            this.proport = proport;
                        }
                    }
                    let outerFrameId = requestAnimationFrame(frameFn);
                })
            }
            pause() {
                this.pauseState = true;
            }
            continue() {
                this.pauseState = false;
                this.go(this.proport)
            }
        }

        var a1 = new Animator(function (p) {
            var tx = 1000 * p;

            block.style.transform = 'translateX('
                + tx + 'px)';
        });

        var a2 = new Animator(function (p) {
            var ty = 100 * p;

            block.style.transform = 'translate(100px,'
                + ty + 'px)';
        });

        block.addEventListener('click', async function () {
            await a1.go();
            await a2.go();
        });
        btn.addEventListener('click',function(){
            a1.pause();
        })
    </script>
</body>

</html>